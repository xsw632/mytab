const I18N = {
    current: 'zh_CN',
    dict: {
        zh_CN: {
            pageTitle: 'æ–°æ ‡ç­¾é¡µ',
            sidebarTitle: 'åˆ†ç±»',
            addCategory: 'æ·»åŠ åˆ†ç±»',
            searchPlaceholder: 'æœç´¢å†…å®¹...',
            currentCategoryHome: 'é¦–é¡µ',
            settings: 'è®¾ç½®',
            settingsTitle: 'è®¾ç½®',
            language: 'è¯­è¨€',
            clock: 'æ—¶é’Ÿ',
            search: 'æœç´¢',
            display: 'æ˜¾ç¤º',
            clockFormat: 'æ—¶é’Ÿæ ¼å¼',
            showSeconds: 'æ˜¾ç¤ºç§’æ•°',
            defaultSearchEngine: 'é»˜è®¤æœç´¢å¼•æ“Ž',
            showSidebar: 'æ˜¾ç¤ºä¾§è¾¹æ ',
            showClock: 'æ˜¾ç¤ºæ—¶é’Ÿ',
            showSearch: 'æ˜¾ç¤ºæœç´¢æ ',
            wallpaper: 'å£çº¸',
            customWallpaper: 'è‡ªå®šä¹‰å£çº¸',
            customWallpaperPlaceholder: 'è¾“å…¥å›¾ç‰‡URL...',
            apply: 'åº”ç”¨',
            toggleSidebarCollapse: 'æ”¶èµ·ä¾§è¾¹æ ',
            toggleSidebarExpand: 'å±•å¼€ä¾§è¾¹æ ',
            clockFormat24: '24å°æ—¶åˆ¶',
            clockFormat12: '12å°æ—¶åˆ¶',
            addShortcut: 'æ·»åŠ å¿«æ·',
            addShortcutTitle: 'æ·»åŠ å¿«æ·æ–¹å¼',
            editShortcutTitle: 'ç¼–è¾‘å¿«æ·æ–¹å¼',
            cancel: 'å–æ¶ˆ',
            save: 'ä¿å­˜',
            name: 'åç§°',
            url: 'ç½‘å€',
            icon: 'å›¾æ ‡',
            iconAuto: 'è‡ªåŠ¨èŽ·å–',
            iconCustom: 'è‡ªå®šä¹‰URL',
            iconEmoji: 'è¡¨æƒ…ç¬¦å·',
            iconUpload: 'æœ¬åœ°ä¸Šä¼ ',
            shortcutNamePlaceholder: 'ä¾‹å¦‚ï¼šGoogle',
            shortcutUrlPlaceholder: 'ä¾‹å¦‚ï¼šhttps://google.com',
            shortcutIconPlaceholder: 'å›¾æ ‡URLæˆ–è¡¨æƒ…ç¬¦å·',
            removeUpload: 'ç§»é™¤',
            emojiCatCommon: 'å¸¸ç”¨',
            emojiCatSmileys: 'è¡¨æƒ…',
            emojiCatNature: 'è‡ªç„¶',
            emojiCatObjects: 'ç‰©å“',
            tabShortcut: 'å¿«æ·æ–¹å¼',
            tabWidget: 'å°ç»„ä»¶',
            addWidgetTitle: 'æ·»åŠ å°ç»„ä»¶',
            editWidgetTitle: 'ç¼–è¾‘å°ç»„ä»¶',
            widgetType: 'ç±»åž‹',
            widgetSize: 'å¤§å°',
            widgetTitle: 'æ ‡é¢˜',
            widgetTitlePlaceholder: 'ä¾‹å¦‚ï¼šæˆ‘çš„å¾…åŠž / ä¾¿ç­¾ / å¤©æ°”',
            widgetNoteContent: 'å†…å®¹ï¼ˆæ”¯æŒ Markdown ç®€ç‰ˆï¼‰',
            widgetNotePlaceholder: 'ä¾‹å¦‚ï¼š\n**é‡ç‚¹**\n- ä»Šå¤©è¦åšçš„äº‹\n`ä»£ç `',
            widgetPinned: 'ç½®é¡¶ä¾¿ç­¾',
            widgetCity: 'åŸŽå¸‚',
            widgetWeatherCityPlaceholder: 'ä¾‹å¦‚ï¼šåŒ—äº¬ / ä¸Šæµ· / Shenzhen',
            widgetTypeTodoOption: 'å¾…åŠžï¼ˆä»Šæ—¥/æœ¬å‘¨ï¼‰',
            widgetTypeNoteOption: 'ä¾¿ç­¾ï¼ˆMarkdown ç®€ç‰ˆï¼‰',
            widgetTypeCalendarOption: 'æ—¥åŽ†',
            widgetTypeWeatherOption: 'å¤©æ°”',
            widgetTodoHint: 'åˆ›å»ºåŽå¯åœ¨å°ç»„ä»¶ä¸Šç›´æŽ¥å‹¾é€‰/æ·»åŠ å¾…åŠžã€‚',
            widgetCalendarHint: 'æ—¥åŽ†å°ç»„ä»¶ä¸ºæœ¬åœ°å±•ç¤ºï¼Œæ— éœ€é¢å¤–è®¾ç½®ã€‚',
            categoryAddTitle: 'âž• æ·»åŠ åˆ†ç±»',
            categoryEditTitle: 'âœï¸ ç¼–è¾‘åˆ†ç±»',
            categoryNameLabel: 'åˆ†ç±»åç§°ï¼š',
            categoryNamePlaceholder: 'ä¾‹å¦‚ï¼šå·¥ä½œ',
            categoryIconLabel: 'å›¾æ ‡ï¼ˆè¡¨æƒ…ç¬¦å·ï¼‰ï¼š',
            categoryIconPlaceholder: 'ä¾‹å¦‚ï¼šðŸ“',
            contextEdit: 'ç¼–è¾‘',
            contextDelete: 'åˆ é™¤',
            confirmDeleteCategory: 'ç¡®å®šè¦åˆ é™¤åˆ†ç±» "{name}" å—ï¼Ÿè¯¥åˆ†ç±»ä¸‹çš„å¿«æ·æ–¹å¼å°†ç§»è‡³{home}ã€‚',
            confirmDeleteShortcut: 'ç¡®å®šè¦åˆ é™¤ "{name}" å—ï¼Ÿ',
            confirmDeleteWidget: 'ç¡®å®šè¦åˆ é™¤ "{name}" å—ï¼Ÿ',
            widgetDefaultTodo: 'å¾…åŠž',
            widgetDefaultCalendar: 'æ—¥åŽ†',
            widgetDefaultWeather: 'å¤©æ°”',
            widgetDefaultNote: 'ä¾¿ç­¾',
            todoToday: 'ä»Šå¤©',
            todoWeek: 'æœ¬å‘¨',
            todoNone: 'æš‚æ— ',
            todoAddTodayTitle: 'æ·»åŠ ä»Šå¤©å¾…åŠž',
            todoAddWeekTitle: 'æ·»åŠ æœ¬å‘¨å¾…åŠž',
            todoAddTodayButton: '+ä»Šå¤©',
            todoAddWeekButton: '+æœ¬å‘¨',
            promptAddTodoToday: 'æ·»åŠ ä»Šå¤©å¾…åŠžï¼š',
            promptAddTodoWeek: 'æ·»åŠ æœ¬å‘¨å¾…åŠžï¼š',
            weatherNotSetCity: 'æœªè®¾ç½®åŸŽå¸‚',
            weatherGet: 'èŽ·å–',
            weatherRefresh: 'åˆ·æ–°',
            weatherHint: 'è¯·è¾“å…¥åŸŽå¸‚åŽç‚¹å‡»ä¿å­˜ï¼Œå†ç‚¹èŽ·å–',
            weatherLabel: 'å¤©æ°”',
            weatherSetCity: 'è®¾ç½®åŸŽå¸‚',
            weatherNotFetched: 'æœªèŽ·å–',
            minutesAgo: '{minutes} åˆ†é’Ÿå‰',
            noteClickToEdit: 'ç‚¹å‡»ç¼–è¾‘',
            noteClickToEditContent: 'ç‚¹å‡»ç¼–è¾‘å†…å®¹...',
            iconsFetching: 'æ­£åœ¨èŽ·å–å›¾æ ‡...',
            iconSearchInPage: 'åœ¨ç½‘é¡µä¸­æœç´¢å›¾æ ‡',
            iconPlaceholderUrl: 'è¾“å…¥å›¾ç‰‡ URL...',
            iconPlaceholderEmoji: 'è¾“å…¥æˆ–é€‰æ‹©è¡¨æƒ…ç¬¦å·...',
            saveImageFailed: 'ä¿å­˜å›¾ç‰‡å¤±è´¥ï¼Œè¯·é‡è¯•',
            fillCityFirst: 'è¯·å…ˆå¡«å†™åŸŽå¸‚',
            greetingMorning: 'æ—©ä¸Šå¥½',
            greetingAfternoon: 'ä¸‹åˆå¥½',
            greetingEvening: 'æ™šä¸Šå¥½',
            greetingNight: 'å¤œæ·±äº†'
        },
        en: {
            pageTitle: 'New Tab',
            sidebarTitle: 'Categories',
            addCategory: 'Add Category',
            searchPlaceholder: 'Search...',
            currentCategoryHome: 'Home',
            settings: 'Settings',
            settingsTitle: 'Settings',
            language: 'Language',
            clock: 'Clock',
            search: 'Search',
            display: 'Display',
            clockFormat: 'Clock Format',
            showSeconds: 'Show Seconds',
            defaultSearchEngine: 'Default Search',
            showSidebar: 'Show Sidebar',
            showClock: 'Show Clock',
            showSearch: 'Show Search',
            wallpaper: 'Wallpaper',
            customWallpaper: 'Custom Wallpaper',
            customWallpaperPlaceholder: 'Paste image URL...',
            apply: 'Apply',
            toggleSidebarCollapse: 'Collapse sidebar',
            toggleSidebarExpand: 'Expand sidebar',
            clockFormat24: '24-hour',
            clockFormat12: '12-hour',
            addShortcut: 'Add',
            addShortcutTitle: 'Add Shortcut',
            editShortcutTitle: 'Edit Shortcut',
            cancel: 'Cancel',
            save: 'Save',
            name: 'Name',
            url: 'URL',
            icon: 'Icon',
            iconAuto: 'Auto',
            iconCustom: 'Custom URL',
            iconEmoji: 'Emoji',
            iconUpload: 'Upload',
            shortcutNamePlaceholder: 'e.g. Google',
            shortcutUrlPlaceholder: 'e.g. https://google.com',
            shortcutIconPlaceholder: 'Icon URL or emoji',
            removeUpload: 'Remove',
            emojiCatCommon: 'Common',
            emojiCatSmileys: 'Smileys',
            emojiCatNature: 'Nature',
            emojiCatObjects: 'Objects',
            tabShortcut: 'Shortcut',
            tabWidget: 'Widgets',
            addWidgetTitle: 'Add Widget',
            editWidgetTitle: 'Edit Widget',
            widgetType: 'Type',
            widgetSize: 'Size',
            widgetTitle: 'Title',
            widgetTitlePlaceholder: 'e.g. Todo / Note / Weather',
            widgetNoteContent: 'Content (simple Markdown)',
            widgetNotePlaceholder: 'e.g.\n**Important**\n- Things to do today\n`code`',
            widgetPinned: 'Pin note',
            widgetCity: 'City',
            widgetWeatherCityPlaceholder: 'e.g. Beijing / Shanghai / Shenzhen',
            widgetTypeTodoOption: 'Todo (Today / This week)',
            widgetTypeNoteOption: 'Note (simple Markdown)',
            widgetTypeCalendarOption: 'Calendar',
            widgetTypeWeatherOption: 'Weather',
            widgetTodoHint: 'After creating, you can check/add todos on the widget.',
            widgetCalendarHint: 'Calendar widget is local-only.',
            categoryAddTitle: 'âž• Add Category',
            categoryEditTitle: 'âœï¸ Edit Category',
            categoryNameLabel: 'Category name:',
            categoryNamePlaceholder: 'e.g. Work',
            categoryIconLabel: 'Icon (emoji):',
            categoryIconPlaceholder: 'e.g. ðŸ“',
            contextEdit: 'Edit',
            contextDelete: 'Delete',
            confirmDeleteCategory: 'Delete category "{name}"? Shortcuts will be moved to {home}.',
            confirmDeleteShortcut: 'Delete "{name}"?',
            confirmDeleteWidget: 'Delete "{name}"?',
            widgetDefaultTodo: 'Todo',
            widgetDefaultCalendar: 'Calendar',
            widgetDefaultWeather: 'Weather',
            widgetDefaultNote: 'Note',
            todoToday: 'Today',
            todoWeek: 'This week',
            todoNone: 'None',
            todoAddTodayTitle: 'Add today todo',
            todoAddWeekTitle: 'Add this week todo',
            todoAddTodayButton: '+Today',
            todoAddWeekButton: '+Week',
            promptAddTodoToday: 'Add todo for today:',
            promptAddTodoWeek: 'Add todo for this week:',
            weatherNotSetCity: 'City not set',
            weatherGet: 'Get',
            weatherRefresh: 'Refresh',
            weatherHint: 'Enter a city, save, then tap Get',
            weatherLabel: 'Weather',
            weatherSetCity: 'Set city',
            weatherNotFetched: 'Not fetched',
            minutesAgo: '{minutes} min ago',
            noteClickToEdit: 'Click to edit',
            noteClickToEditContent: 'Click to edit...',
            iconsFetching: 'Fetching icons...',
            iconSearchInPage: 'Search icons on page',
            iconPlaceholderUrl: 'Enter image URL...',
            iconPlaceholderEmoji: 'Type or pick an emoji...',
            saveImageFailed: 'Failed to save image. Please try again.',
            fillCityFirst: 'Please enter a city first.',
            greetingMorning: 'Good morning',
            greetingAfternoon: 'Good afternoon',
            greetingEvening: 'Good evening',
            greetingNight: 'Good night'
        },
        fr: {
            pageTitle: 'Nouvel onglet',
            sidebarTitle: 'CatÃ©gories',
            addCategory: 'Ajouter une catÃ©gorie',
            searchPlaceholder: 'Rechercher...',
            currentCategoryHome: 'Accueil',
            settings: 'ParamÃ¨tres',
            settingsTitle: 'ParamÃ¨tres',
            language: 'Langue',
            clock: 'Horloge',
            search: 'Recherche',
            display: 'Affichage',
            clockFormat: 'Format de lâ€™heure',
            showSeconds: 'Afficher les secondes',
            defaultSearchEngine: 'Moteur par dÃ©faut',
            showSidebar: 'Afficher la barre latÃ©rale',
            showClock: 'Afficher lâ€™horloge',
            showSearch: 'Afficher la recherche',
            wallpaper: 'Fond dâ€™Ã©cran',
            customWallpaper: 'Fond personnalisÃ©',
            customWallpaperPlaceholder: 'Coller lâ€™URL de lâ€™image...',
            apply: 'Appliquer',
            toggleSidebarCollapse: 'RÃ©duire la barre latÃ©rale',
            toggleSidebarExpand: 'DÃ©ployer la barre latÃ©rale',
            clockFormat24: '24 h',
            clockFormat12: '12 h',
            addShortcut: 'Ajouter',
            addShortcutTitle: 'Ajouter un raccourci',
            editShortcutTitle: 'Modifier le raccourci',
            cancel: 'Annuler',
            save: 'Enregistrer',
            name: 'Nom',
            url: 'URL',
            icon: 'IcÃ´ne',
            iconAuto: 'Auto',
            iconCustom: 'URL personnalisÃ©e',
            iconEmoji: 'Emoji',
            iconUpload: 'Importer',
            shortcutNamePlaceholder: 'ex. Google',
            shortcutUrlPlaceholder: 'ex. https://google.com',
            shortcutIconPlaceholder: 'URL de lâ€™icÃ´ne ou emoji',
            removeUpload: 'Retirer',
            emojiCatCommon: 'FrÃ©quent',
            emojiCatSmileys: 'Ã‰moticÃ´nes',
            emojiCatNature: 'Nature',
            emojiCatObjects: 'Objets',
            tabShortcut: 'Raccourci',
            tabWidget: 'Widgets',
            addWidgetTitle: 'Ajouter un widget',
            editWidgetTitle: 'Modifier le widget',
            widgetType: 'Type',
            widgetSize: 'Taille',
            widgetTitle: 'Titre',
            widgetTitlePlaceholder: 'ex. TÃ¢ches / Note / MÃ©tÃ©o',
            widgetNoteContent: 'Contenu (Markdown simple)',
            widgetNotePlaceholder: 'ex.\n**Important**\n- Ã€ faire aujourdâ€™hui\n`code`',
            widgetPinned: 'Ã‰pingler la note',
            widgetCity: 'Ville',
            widgetWeatherCityPlaceholder: 'ex. Paris / Lyon',
            widgetTypeTodoOption: 'TÃ¢ches (Aujourdâ€™hui / Semaine)',
            widgetTypeNoteOption: 'Note (Markdown simple)',
            widgetTypeCalendarOption: 'Calendrier',
            widgetTypeWeatherOption: 'MÃ©tÃ©o',
            widgetTodoHint: 'AprÃ¨s crÃ©ation, vous pouvez cocher/ajouter des tÃ¢ches sur le widget.',
            widgetCalendarHint: 'Le widget calendrier est local.',
            categoryAddTitle: 'âž• Ajouter une catÃ©gorie',
            categoryEditTitle: 'âœï¸ Modifier la catÃ©gorie',
            categoryNameLabel: 'Nom de catÃ©gorie :',
            categoryNamePlaceholder: 'ex. Travail',
            categoryIconLabel: 'IcÃ´ne (emoji) :',
            categoryIconPlaceholder: 'ex. ðŸ“',
            contextEdit: 'Modifier',
            contextDelete: 'Supprimer',
            confirmDeleteCategory: 'Supprimer la catÃ©gorie Â« {name} Â» ? Les raccourcis seront dÃ©placÃ©s vers {home}.',
            confirmDeleteShortcut: 'Supprimer Â« {name} Â» ?',
            confirmDeleteWidget: 'Supprimer Â« {name} Â» ?',
            widgetDefaultTodo: 'TÃ¢ches',
            widgetDefaultCalendar: 'Calendrier',
            widgetDefaultWeather: 'MÃ©tÃ©o',
            widgetDefaultNote: 'Note',
            todoToday: 'Aujourdâ€™hui',
            todoWeek: 'Semaine',
            todoNone: 'Aucun',
            todoAddTodayTitle: 'Ajouter une tÃ¢che (aujourdâ€™hui)',
            todoAddWeekTitle: 'Ajouter une tÃ¢che (semaine)',
            todoAddTodayButton: '+Jour',
            todoAddWeekButton: '+Sem.',
            promptAddTodoToday: 'Ajouter une tÃ¢che pour aujourdâ€™hui :',
            promptAddTodoWeek: 'Ajouter une tÃ¢che pour la semaine :',
            weatherNotSetCity: 'Ville non dÃ©finie',
            weatherGet: 'Obtenir',
            weatherRefresh: 'RafraÃ®chir',
            weatherHint: 'Saisissez une ville, enregistrez, puis Obtenir',
            weatherLabel: 'MÃ©tÃ©o',
            weatherSetCity: 'DÃ©finir la ville',
            weatherNotFetched: 'Non rÃ©cupÃ©rÃ©',
            minutesAgo: 'il y a {minutes} min',
            noteClickToEdit: 'Cliquer pour modifier',
            noteClickToEditContent: 'Cliquer pour modifier...',
            iconsFetching: 'RÃ©cupÃ©ration des icÃ´nes...',
            iconSearchInPage: 'Rechercher des icÃ´nes sur la page',
            iconPlaceholderUrl: 'Saisir lâ€™URL de lâ€™image...',
            iconPlaceholderEmoji: 'Saisir ou choisir un emoji...',
            saveImageFailed: 'Ã‰chec de lâ€™enregistrement. Veuillez rÃ©essayer.',
            fillCityFirst: 'Veuillez dâ€™abord saisir une ville.',
            greetingMorning: 'Bonjour',
            greetingAfternoon: 'Bon aprÃ¨s-midi',
            greetingEvening: 'Bonsoir',
            greetingNight: 'Bonne nuit'
        },
        es: {
            pageTitle: 'Nueva pestaÃ±a',
            sidebarTitle: 'CategorÃ­as',
            addCategory: 'AÃ±adir categorÃ­a',
            searchPlaceholder: 'Buscar...',
            currentCategoryHome: 'Inicio',
            settings: 'Ajustes',
            settingsTitle: 'Ajustes',
            language: 'Idioma',
            clock: 'Reloj',
            search: 'BÃºsqueda',
            display: 'Pantalla',
            clockFormat: 'Formato de reloj',
            showSeconds: 'Mostrar segundos',
            defaultSearchEngine: 'Buscador predeterminado',
            showSidebar: 'Mostrar barra lateral',
            showClock: 'Mostrar reloj',
            showSearch: 'Mostrar bÃºsqueda',
            wallpaper: 'Fondo',
            customWallpaper: 'Fondo personalizado',
            customWallpaperPlaceholder: 'Pega la URL de la imagen...',
            apply: 'Aplicar',
            toggleSidebarCollapse: 'Contraer barra lateral',
            toggleSidebarExpand: 'Expandir barra lateral',
            clockFormat24: '24 horas',
            clockFormat12: '12 horas',
            addShortcut: 'AÃ±adir',
            addShortcutTitle: 'AÃ±adir acceso directo',
            editShortcutTitle: 'Editar acceso directo',
            cancel: 'Cancelar',
            save: 'Guardar',
            name: 'Nombre',
            url: 'URL',
            icon: 'Icono',
            iconAuto: 'Auto',
            iconCustom: 'URL personalizada',
            iconEmoji: 'Emoji',
            iconUpload: 'Subir',
            shortcutNamePlaceholder: 'p. ej. Google',
            shortcutUrlPlaceholder: 'p. ej. https://google.com',
            shortcutIconPlaceholder: 'URL del icono o emoji',
            removeUpload: 'Quitar',
            emojiCatCommon: 'ComÃºn',
            emojiCatSmileys: 'Emojis',
            emojiCatNature: 'Naturaleza',
            emojiCatObjects: 'Objetos',
            tabShortcut: 'Acceso directo',
            tabWidget: 'Widgets',
            addWidgetTitle: 'AÃ±adir widget',
            editWidgetTitle: 'Editar widget',
            widgetType: 'Tipo',
            widgetSize: 'TamaÃ±o',
            widgetTitle: 'TÃ­tulo',
            widgetTitlePlaceholder: 'p. ej. Tareas / Nota / Tiempo',
            widgetNoteContent: 'Contenido (Markdown simple)',
            widgetNotePlaceholder: 'p. ej.\n**Importante**\n- Cosas para hoy\n`cÃ³digo`',
            widgetPinned: 'Fijar nota',
            widgetCity: 'Ciudad',
            widgetWeatherCityPlaceholder: 'p. ej. Madrid / Barcelona',
            widgetTypeTodoOption: 'Tareas (Hoy / Semana)',
            widgetTypeNoteOption: 'Nota (Markdown simple)',
            widgetTypeCalendarOption: 'Calendario',
            widgetTypeWeatherOption: 'Tiempo',
            categoryAddTitle: 'âž• AÃ±adir categorÃ­a',
            categoryEditTitle: 'âœï¸ Editar categorÃ­a',
            categoryNameLabel: 'Nombre de la categorÃ­a:',
            categoryNamePlaceholder: 'p. ej. Trabajo',
            categoryIconLabel: 'Icono (emoji):',
            categoryIconPlaceholder: 'p. ej. ðŸ“',
            contextEdit: 'Editar',
            contextDelete: 'Eliminar',
            confirmDeleteCategory: 'Â¿Eliminar la categorÃ­a "{name}"? Los accesos directos se moverÃ¡n a {home}.',
            confirmDeleteShortcut: 'Â¿Eliminar "{name}"?',
            confirmDeleteWidget: 'Â¿Eliminar "{name}"?',
            widgetDefaultTodo: 'Tareas',
            widgetDefaultCalendar: 'Calendario',
            widgetDefaultWeather: 'Tiempo',
            widgetDefaultNote: 'Nota',
            todoToday: 'Hoy',
            todoWeek: 'Semana',
            todoNone: 'Ninguno',
            todoAddTodayTitle: 'AÃ±adir tarea (hoy)',
            todoAddWeekTitle: 'AÃ±adir tarea (semana)',
            todoAddTodayButton: '+Hoy',
            todoAddWeekButton: '+Sem.',
            promptAddTodoToday: 'AÃ±adir tarea para hoy:',
            promptAddTodoWeek: 'AÃ±adir tarea para la semana:',
            weatherNotSetCity: 'Ciudad no definida',
            weatherGet: 'Obtener',
            weatherRefresh: 'Actualizar',
            weatherHint: 'Introduce una ciudad, guarda y pulsa Obtener',
            weatherLabel: 'Tiempo',
            weatherSetCity: 'Configurar ciudad',
            weatherNotFetched: 'Sin datos',
            minutesAgo: 'hace {minutes} min',
            noteClickToEdit: 'Haz clic para editar',
            noteClickToEditContent: 'Haz clic para editar...',
            iconsFetching: 'Obteniendo iconos...',
            iconSearchInPage: 'Buscar iconos en la pÃ¡gina',
            iconPlaceholderUrl: 'Introduce la URL de la imagen...',
            iconPlaceholderEmoji: 'Escribe o elige un emoji...',
            saveImageFailed: 'No se pudo guardar. IntÃ©ntalo de nuevo.',
            fillCityFirst: 'Primero introduce una ciudad.',
            widgetTodoHint: 'Tras crear, puedes marcar/aÃ±adir tareas en el widget.',
            widgetCalendarHint: 'El widget de calendario es local.',
            greetingMorning: 'Buenos dÃ­as',
            greetingAfternoon: 'Buenas tardes',
            greetingEvening: 'Buenas noches',
            greetingNight: 'Buenas noches'
        },
        ja: {
            pageTitle: 'æ–°ã—ã„ã‚¿ãƒ–',
            sidebarTitle: 'ã‚«ãƒ†ã‚´ãƒª',
            addCategory: 'ã‚«ãƒ†ã‚´ãƒªã‚’è¿½åŠ ',
            searchPlaceholder: 'æ¤œç´¢...',
            currentCategoryHome: 'ãƒ›ãƒ¼ãƒ ',
            settings: 'è¨­å®š',
            settingsTitle: 'è¨­å®š',
            language: 'è¨€èªž',
            clock: 'æ™‚è¨ˆ',
            search: 'æ¤œç´¢',
            display: 'è¡¨ç¤º',
            clockFormat: 'æ™‚è¨ˆå½¢å¼',
            showSeconds: 'ç§’ã‚’è¡¨ç¤º',
            defaultSearchEngine: 'æ—¢å®šã®æ¤œç´¢',
            showSidebar: 'ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚’è¡¨ç¤º',
            showClock: 'æ™‚è¨ˆã‚’è¡¨ç¤º',
            showSearch: 'æ¤œç´¢ã‚’è¡¨ç¤º',
            wallpaper: 'å£ç´™',
            customWallpaper: 'ã‚«ã‚¹ã‚¿ãƒ å£ç´™',
            customWallpaperPlaceholder: 'ç”»åƒURLã‚’è²¼ã‚Šä»˜ã‘...',
            apply: 'é©ç”¨',
            toggleSidebarCollapse: 'ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚’æŠ˜ã‚ŠãŸãŸã‚€',
            toggleSidebarExpand: 'ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚’å±•é–‹',
            clockFormat24: '24æ™‚é–“',
            clockFormat12: '12æ™‚é–“',
            addShortcut: 'è¿½åŠ ',
            addShortcutTitle: 'ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚’è¿½åŠ ',
            editShortcutTitle: 'ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚’ç·¨é›†',
            cancel: 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«',
            save: 'ä¿å­˜',
            name: 'åå‰',
            url: 'URL',
            icon: 'ã‚¢ã‚¤ã‚³ãƒ³',
            iconAuto: 'è‡ªå‹•',
            iconCustom: 'ã‚«ã‚¹ã‚¿ãƒ URL',
            iconEmoji: 'çµµæ–‡å­—',
            iconUpload: 'ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰',
            shortcutNamePlaceholder: 'ä¾‹ï¼šGoogle',
            shortcutUrlPlaceholder: 'ä¾‹ï¼šhttps://google.com',
            shortcutIconPlaceholder: 'ã‚¢ã‚¤ã‚³ãƒ³URL ã¾ãŸã¯ çµµæ–‡å­—',
            removeUpload: 'å‰Šé™¤',
            emojiCatCommon: 'ã‚ˆãä½¿ã†',
            emojiCatSmileys: 'çµµæ–‡å­—',
            emojiCatNature: 'è‡ªç„¶',
            emojiCatObjects: 'ç‰©',
            tabShortcut: 'ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ',
            tabWidget: 'ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ',
            addWidgetTitle: 'ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’è¿½åŠ ',
            editWidgetTitle: 'ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’ç·¨é›†',
            widgetType: 'ç¨®é¡ž',
            widgetSize: 'ã‚µã‚¤ã‚º',
            widgetTitle: 'ã‚¿ã‚¤ãƒˆãƒ«',
            widgetTitlePlaceholder: 'ä¾‹ï¼šToDo / ãƒ¡ãƒ¢ / å¤©æ°—',
            widgetNoteContent: 'å†…å®¹ï¼ˆç°¡æ˜“Markdownï¼‰',
            widgetNotePlaceholder: 'ä¾‹ï¼š\n**é‡è¦**\n- ä»Šæ—¥ã‚„ã‚‹ã“ã¨\n`ã‚³ãƒ¼ãƒ‰`',
            widgetPinned: 'ãƒ”ãƒ³ç•™ã‚',
            widgetCity: 'éƒ½å¸‚',
            widgetWeatherCityPlaceholder: 'ä¾‹ï¼šæ±äº¬ / å¤§é˜ª',
            widgetTypeTodoOption: 'ToDoï¼ˆä»Šæ—¥/ä»Šé€±ï¼‰',
            widgetTypeNoteOption: 'ãƒ¡ãƒ¢ï¼ˆç°¡æ˜“Markdownï¼‰',
            widgetTypeCalendarOption: 'ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼',
            widgetTypeWeatherOption: 'å¤©æ°—',
            widgetTodoHint: 'ä½œæˆå¾Œã€ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆä¸Šã§ãƒã‚§ãƒƒã‚¯/è¿½åŠ ã§ãã¾ã™ã€‚',
            widgetCalendarHint: 'ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã¯ãƒ­ãƒ¼ã‚«ãƒ«è¡¨ç¤ºã§ã™ã€‚',
            categoryAddTitle: 'âž• ã‚«ãƒ†ã‚´ãƒªã‚’è¿½åŠ ',
            categoryEditTitle: 'âœï¸ ã‚«ãƒ†ã‚´ãƒªã‚’ç·¨é›†',
            categoryNameLabel: 'ã‚«ãƒ†ã‚´ãƒªåï¼š',
            categoryNamePlaceholder: 'ä¾‹ï¼šä»•äº‹',
            categoryIconLabel: 'ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆçµµæ–‡å­—ï¼‰ï¼š',
            categoryIconPlaceholder: 'ä¾‹ï¼šðŸ“',
            contextEdit: 'ç·¨é›†',
            contextDelete: 'å‰Šé™¤',
            confirmDeleteCategory: 'ã‚«ãƒ†ã‚´ãƒªã€Œ{name}ã€ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã¯{home}ã¸ç§»å‹•ã—ã¾ã™ã€‚',
            confirmDeleteShortcut: 'ã€Œ{name}ã€ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ',
            confirmDeleteWidget: 'ã€Œ{name}ã€ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ',
            widgetDefaultTodo: 'ToDo',
            widgetDefaultCalendar: 'ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼',
            widgetDefaultWeather: 'å¤©æ°—',
            widgetDefaultNote: 'ãƒ¡ãƒ¢',
            todoToday: 'ä»Šæ—¥',
            todoWeek: 'ä»Šé€±',
            todoNone: 'ãªã—',
            todoAddTodayTitle: 'ä»Šæ—¥ã®ToDoã‚’è¿½åŠ ',
            todoAddWeekTitle: 'ä»Šé€±ã®ToDoã‚’è¿½åŠ ',
            todoAddTodayButton: '+ä»Šæ—¥',
            todoAddWeekButton: '+ä»Šé€±',
            promptAddTodoToday: 'ä»Šæ—¥ã®ToDoã‚’è¿½åŠ ï¼š',
            promptAddTodoWeek: 'ä»Šé€±ã®ToDoã‚’è¿½åŠ ï¼š',
            weatherNotSetCity: 'éƒ½å¸‚æœªè¨­å®š',
            weatherGet: 'å–å¾—',
            weatherRefresh: 'æ›´æ–°',
            weatherHint: 'éƒ½å¸‚ã‚’å…¥åŠ›ã—ã¦ä¿å­˜ã—ã€å–å¾—ã‚’æŠ¼ã—ã¦ãã ã•ã„',
            weatherLabel: 'å¤©æ°—',
            weatherSetCity: 'éƒ½å¸‚ã‚’è¨­å®š',
            weatherNotFetched: 'æœªå–å¾—',
            minutesAgo: '{minutes}åˆ†å‰',
            noteClickToEdit: 'ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç·¨é›†',
            noteClickToEditContent: 'ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç·¨é›†...',
            iconsFetching: 'ã‚¢ã‚¤ã‚³ãƒ³å–å¾—ä¸­...',
            iconSearchInPage: 'ãƒšãƒ¼ã‚¸å†…ã§ã‚¢ã‚¤ã‚³ãƒ³æ¤œç´¢',
            iconPlaceholderUrl: 'ç”»åƒURLã‚’å…¥åŠ›...',
            iconPlaceholderEmoji: 'çµµæ–‡å­—ã‚’å…¥åŠ›/é¸æŠž...',
            saveImageFailed: 'ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸã€‚å†è©¦è¡Œã—ã¦ãã ã•ã„ã€‚',
            fillCityFirst: 'å…ˆã«éƒ½å¸‚ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚',
            greetingMorning: 'ãŠã¯ã‚ˆã†',
            greetingAfternoon: 'ã“ã‚“ã«ã¡ã¯',
            greetingEvening: 'ã“ã‚“ã°ã‚“ã¯',
            greetingNight: 'ãŠã‚„ã™ã¿'
        }
    },

    normalize(lang) {
        if (!lang) return 'zh_CN';
        const v = String(lang).trim();
        if (v === 'zh' || v === 'zh-CN' || v === 'zh_CN') return 'zh_CN';
        if (v === 'en' || v === 'en_US') return 'en';
        if (v === 'fr') return 'fr';
        if (v === 'es') return 'es';
        if (v === 'ja' || v === 'ja_JP') return 'ja';
        return 'zh_CN';
    },

    t(key) {
        const lang = this.current;
        return this.dict?.[lang]?.[key] ?? this.dict?.zh_CN?.[key] ?? key;
    },

    format(key, vars) {
        let s = this.t(key);
        if (!vars) return s;
        Object.entries(vars).forEach(([k, v]) => {
            s = s.replaceAll(`{${k}}`, String(v));
        });
        return s;
    },

    setLanguage(lang) {
        this.current = this.normalize(lang);
        document.documentElement.lang = this.current === 'zh_CN' ? 'zh-CN' : this.current;
    },

    locale() {
        switch (this.current) {
            case 'en': return 'en-US';
            case 'fr': return 'fr-FR';
            case 'es': return 'es-ES';
            case 'ja': return 'ja-JP';
            case 'zh_CN':
            default: return 'zh-CN';
        }
    },

    weekHeaders() {
        switch (this.current) {
            case 'en': return ['S', 'M', 'T', 'W', 'T', 'F', 'S'];
            case 'fr': return ['D', 'L', 'M', 'M', 'J', 'V', 'S'];
            case 'es': return ['D', 'L', 'M', 'X', 'J', 'V', 'S'];
            case 'ja': return ['æ—¥', 'æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ'];
            case 'zh_CN':
            default: return ['æ—¥', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­'];
        }
    },

    applyToElement(el) {
        const key = el.getAttribute('data-i18n');
        if (key) el.textContent = this.t(key);

        const pKey = el.getAttribute('data-i18n-placeholder');
        if (pKey) el.setAttribute('placeholder', this.t(pKey));

        const tKey = el.getAttribute('data-i18n-title');
        if (tKey) el.setAttribute('title', this.t(tKey));
    },

    apply(lang) {
        this.setLanguage(lang);
        document.title = this.t('pageTitle');
        document.querySelectorAll('[data-i18n], [data-i18n-placeholder], [data-i18n-title]').forEach(el => {
            this.applyToElement(el);
        });
    }
};

window.I18N = I18N;
